(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{453:function(t,s,a){"use strict";a.r(s);var e=a(7),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"精灵模型sprite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#精灵模型sprite"}},[t._v("#")]),t._v(" 精灵模型"),s("code",[t._v("Sprite")])]),t._v(" "),s("p",[t._v("Three.js的精灵模型"),s("code",[t._v("Sprite")]),t._v("和Threejs的网格模型"),s("code",[t._v("Mesh")]),t._v("一样都是模型对象，父类都是"),s("code",[t._v("Object3D")]),t._v(",关于精灵模型对象"),s("code",[t._v("Sprite")]),t._v("的方法和属性除了可以查看文档Sprite，也可以查看父类"),s("code",[t._v("Object3D")]),t._v("。")]),t._v(" "),s("p",[t._v("第一次接触精灵模型"),s("code",[t._v("Sprite")]),t._v("的时候，可以类比以前讲解过的网格模型"),s("code",[t._v("Mesh")]),t._v("学习。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/imgthreejs/%E7%82%B9%E7%BA%BF%E7%BD%91%E6%A0%BC%E7%B2%BE%E7%81%B5%E6%A8%A1%E5%9E%8B.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"创建精灵模型材质spritematerial"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建精灵模型材质spritematerial"}},[t._v("#")]),t._v(" 创建精灵模型材质"),s("code",[t._v("SpriteMaterial")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/imgthreejs/%E6%9D%90%E8%B4%A8Material.png",alt:""}})]),t._v(" "),s("p",[t._v("精灵材质对象"),s("code",[t._v("SpriteMaterial")]),t._v("和普通的网格材质一样可以设置颜色"),s("code",[t._v(".color")]),t._v("、颜色贴图"),s("code",[t._v(".map")]),t._v("、开启透明"),s("code",[t._v(".transparent")]),t._v("、透明度"),s("code",[t._v(".opacity")]),t._v("等属性，精灵材质对象"),s("code",[t._v("SpriteMaterial")]),t._v("的父类是材质"),s("code",[t._v("Material")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建精灵材质对象SpriteMaterial")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" spriteMaterial "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SpriteMaterial")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x00ffff")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//设置颜色")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"创建精灵模型sprite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建精灵模型sprite"}},[t._v("#")]),t._v(" 创建精灵模型"),s("code",[t._v("Sprite")])]),t._v(" "),s("p",[t._v("创建精灵模型对象"),s("code",[t._v("Sprite")]),t._v("和创建网格模型对象一样需要创建一个材质对象，不同的地方在于创建精灵模型对象不需要创建几何体对象"),s("code",[t._v("Geometry")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建精灵模型对象，不需要几何体geometry参数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sprite "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Sprite")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("spriteMaterial"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mesh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Mesh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("geometry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" material"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("精灵模型"),s("code",[t._v("Sprite")]),t._v("默认是一个矩形形状，默认长宽都是1，默认在坐标原点位置。"),s("code",[t._v("Sprite")]),t._v("默认尺寸为1，如果你在画布上看不太清，可以适当调整相机参数。")]),t._v(" "),s("p",[t._v("对于透视投影相机而言，"),s("code",[t._v("Sprite")]),t._v("和"),s("code",[t._v("Mesh")]),t._v("一样遵循远小近大的投影规律。")]),t._v(" "),s("h3",{attrs:{id:"正投影相机验证sprite尺寸"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#正投影相机验证sprite尺寸"}},[t._v("#")]),t._v(" 正投影相机验证"),s("code",[t._v("Sprite")]),t._v("尺寸")]),t._v(" "),s("p",[t._v("Sprite默认尺寸是1，如果正投影相机对象的top, bottom范围分别为0.5，-0.5，上下方向渲染范围是1，精灵模型默认尺寸长宽都是1，这样刚好上下方向100%填充画布。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//控制left, right, top, bottom范围大小")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" camera "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OrthographicCamera")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"对比sprite和矩形平面mesh"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对比sprite和矩形平面mesh"}},[t._v("#")]),t._v(" 对比"),s("code",[t._v("Sprite")]),t._v("和矩形平面"),s("code",[t._v("Mesh")])]),t._v(" "),s("p",[s("code",[t._v("Sprite")]),t._v("形状是矩形，"),s("code",[t._v("PlaneGeometry")]),t._v("创建的网格模型"),s("code",[t._v("Mesh")]),t._v("的形状也是矩形。")]),t._v(" "),s("p",[s("code",[t._v("Sprite")]),t._v("与矩形平面"),s("code",[t._v("Mesh")]),t._v("的区别在于,当你旋转三维场景的时候，如果通过相机控件OrbitControls旋转测试，你可以发现"),s("code",[t._v("Sprite")]),t._v("矩形平面会始终平行于Canvas画布或者说屏幕，而矩形平面"),s("code",[t._v("Mesh")]),t._v("的姿态角度会跟着旋转，不一定平行于canvas画布。")]),t._v(" "),s("h3",{attrs:{id:"sprite属性-position、-scale"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sprite属性-position、-scale"}},[t._v("#")]),t._v(" "),s("code",[t._v("Sprite")]),t._v("属性"),s("code",[t._v(".position")]),t._v("、"),s("code",[t._v(".scale")])]),t._v(" "),s("p",[t._v("精灵模型"),s("code",[t._v("Sprite")]),t._v("和"),s("code",[t._v("Mesh")]),t._v("一样具有位置"),s("code",[t._v(".position")]),t._v("和缩放"),s("code",[t._v(".scale")]),t._v("属性。")]),t._v(" "),s("p",[s("code",[t._v("sprite.scale")]),t._v("只需要设置x、y两个分量就可以，z方向默认值就行。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 控制精灵大小")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sprite.scale'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("sprite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scale"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsprite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scale"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//只需要设置x、y两个分量就可以")]),t._v("\n")])])]),s("p",[s("code",[t._v("sprite.position")]),t._v("设置精灵模型在三维空间中的位置坐标")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("sprite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"对比尺寸相同spirte和矩形平面mesh"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对比尺寸相同spirte和矩形平面mesh"}},[t._v("#")]),t._v(" 对比尺寸相同"),s("code",[t._v("Spirte")]),t._v("和矩形平面"),s("code",[t._v("Mesh")])]),t._v(" "),s("p",[t._v("对于网格模型"),s("code",[t._v("Mesh")]),t._v("而言，可以通过几何体"),s("code",[t._v("geometry")]),t._v("和"),s("code",[t._v("mesh.scale")]),t._v("定义尺寸，"),s("code",[t._v("Spirte")]),t._v("没有几何体，需要通过"),s("code",[t._v("sprite.scale")]),t._v("定义矩形精灵的长和宽。")]),t._v(" "),s("p",[t._v("打开案例源码“3.对比相同尺寸Sprite和矩形Mesh”，对比相同尺寸"),s("code",[t._v("Spirte")]),t._v("和矩形平面"),s("code",[t._v("Mesh")]),t._v("渲染效果，进一步掌握Sprite尺寸定义。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 尺寸相同的Sprite和矩形平面Mesh")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sprite "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Sprite")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("spriteMaterial"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsprite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scale"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" geometry "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PlaneGeometry")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mesh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Mesh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("geometry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" material"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"spritematerial旋转属性-rotation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spritematerial旋转属性-rotation"}},[t._v("#")]),t._v(" "),s("code",[t._v("SpriteMaterial")]),t._v("旋转属性"),s("code",[t._v(".rotation")])]),t._v(" "),s("p",[t._v("精灵材质"),s("code",[t._v("SpriteMaterial")]),t._v("的属性除了和网格材质类似的属性和方法外，还有一些自己独特的方法和属性，比如"),s("code",[t._v(".rotation")]),t._v("旋转精灵模型，更多相关属性和方法可以查看threejs文档关于"),s("code",[t._v("SpriteMaterial")]),t._v("的介绍。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" spriteMaterial "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SpriteMaterial")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rotation")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("Math"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PI")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//旋转精灵对象45度，弧度值")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);